@model TeenCodeWebsite.Models.ContactForm
@{
    ViewBag.Title = "Contact - TeenCode";
}

<h1 class="text-center text-info col-sm-12">
    We Would Love to Hear From You!
</h1>

<form action="http://localhost:80/redirect/script.php" method="post" class="col-sm-12 col-sm-offset-4" id="myForm" name="myForm" onsubmit="return validate()">

    <div class="form-group">
        @Html.LabelFor(m => m.Name) <span class="text-danger">*</span>
        @Html.TextBoxFor(m => m.Name, new { @class = "form-control", @name="Name"})
        <p id="e1"></p>
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Email) <span class="text-danger">*</span>
        @Html.TextBoxFor(m => m.Email, new { @class = "form-control", @name="Email"})
        <p id="e2"></p>
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Subject) <span class="text-danger">*</span>
        @Html.TextBoxFor(m => m.Subject, new { @class = "form-control", @name="Subject" })
        <p id="e3"></p>
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Message) <span class="text-danger">*</span>
        @Html.TextAreaFor(m => m.Message, new { @class = "form-control", @cols = 40, @rows =10, @name="Message" })
        <p id="e4"></p>
    </div>

    <p class="text-danger">
        *Required
    </p>

    <button class="btn btn-primary" type="submit" onsubmit="sented()">
        Send Message
    </button>

    <p id="thanks"></p>
    <script>
        var sent = false;
        function validate()
        {
            var name = document.forms["myForm"]["Name"].value;
            var email = document.forms["myForm"]["Email"].value;
            var sbj = document.forms["myForm"]["Subject"].value;
            var msg = document.forms["myForm"]["Message"].value;

            var fail = document.forms["myForm"]["Email"].value.indexOf('@@');

            if (name == "") {
                alert("Fill out highlited fields");
                document.getElementById("e1").innerHTML = "<p class='text-danger'>Name must be filled out</p>";
                return false;
            }
            else if (email == "") {
                alert("Fill out highlited fields");
                document.getElementById("e2").innerHTML = "<p class='text-danger'>Email must be filled out</p>";
                return false;
            }
            else if(fail <= -1)
            {
                document.getElementById("e2").innerHTML = "<p class='text-danger'>Please Enter Valid Email</p>";
                return false;
            }
            else if (sbj == "") {
                alert("Fill out highlited fields");
                document.getElementById("e3").innerHTML = "<p class='text-danger'>Subject must be filled out</p>";
                return false;
            }
            else if (msg == "") {
                alert("Fill out highlited fields");
                document.getElementById("e4").innerHTML = "<p class='text-danger'>Message must be filled out</p>";
                return false;
            }
            else {
                alert("Message Sent");
                sent = true;
            }

            if(sent === true)
            {
                return true;
            }
        }

        function back()
        {
            window.history.back();
        }
    </script>
    <style>
        body{
            max-width: 100%;
            overflow-x: hidden;
        }
    </style>
</form>